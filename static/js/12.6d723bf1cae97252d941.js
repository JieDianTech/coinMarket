webpackJsonp([12],{"1j0Y":function(e,t,r){e.exports=r.p+"static/img/cooperation-poster-04.3fdfeff.jpg"},F853:function(e,t,r){e.exports=r.p+"static/img/cooperation-poster-02.b187536.jpg"},QoDA:function(e,t){},XIqg:function(e,t,r){e.exports=r.p+"static/img/cooperation-poster-03.492f57f.jpg"},boGh:function(e,t){},uPcT:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("4c0y"),a=r("uaSg"),o={components:{Theader:s.default},data:function(){return{shareHost:a.b,userId:0,qrcodeUrl:a.f,shareTip:"长按图片保存到手机相册"}},mounted:function(){var e=this,t=this.$refs.cvs,r=t.getContext("2d"),s=this.$refs.qrcode,a=this.$refs.qrcode.src,o=new Image;o.src=a,o.onload=function(){var a=e.$refs.poster1.src,o=new Image;o.src=a,o.onload=function(){var a=e.$refs.poster1;r.clearRect(0,0,750,1334),r.drawImage(a,0,0),r.drawImage(s,543,1089,160,160),a.src=t.toDataURL("image/jpeg",1)};var i=e.$refs.poster2.src,n=new Image;n.src=i,n.onload=function(){var a=e.$refs.poster2;r.clearRect(0,0,750,1334),r.drawImage(a,0,0),r.drawImage(s,530,1034,160,160),a.src=t.toDataURL("image/jpeg",1)};var c=e.$refs.poster3.src,p=new Image;p.src=c,p.onload=function(){var a=e.$refs.poster3;r.clearRect(0,0,750,1334),r.drawImage(a,0,0),r.drawImage(s,280,1029,200,200),a.src=t.toDataURL("image/jpeg",1)};var g=e.$refs.poster4.src,d=new Image;d.src=g,d.onload=function(){var a=e.$refs.poster4;r.clearRect(0,0,750,1334),r.drawImage(a,0,0),r.drawImage(s,280,859,200,200),a.src=t.toDataURL("image/jpeg",1)}}},created:function(){this.userId=this.$route.params.user;this.shareTip="滑动图片，点击打开图片，截屏保存"},methods:{initScroll:function(){setTimeout(function(){var e=document.getElementById("scrollInvite");new IScroll(e,{scrollbars:!1,HWCompositing:!0,bounce:!0,eventPassthrough:!0,scrollX:!0,scrollY:!1,click:!0})},1e3)},makePosters:function(){var e=this.$refs.cvs,t=e.getContext("2d"),r=this.$refs.qrcode,s=this.$refs.poster1;t.clearRect(0,0,750,1334),t.drawImage(s,0,0),t.drawImage(r,543,1089,160,160),s.src=e.toDataURL("image/jpeg",1);var a=this.$refs.poster2;t.clearRect(0,0,750,1334),t.drawImage(a,0,0),t.drawImage(r,530,1034,160,160),a.src=e.toDataURL("image/jpeg",1);var o=this.$refs.poster3;t.clearRect(0,0,750,1334),t.drawImage(o,0,0),t.drawImage(r,280,1029,200,200),o.src=e.toDataURL("image/jpeg",1);var i=this.$refs.poster4;t.clearRect(0,0,750,1334),t.drawImage(i,0,0),t.drawImage(r,280,859,200,200),i.src=e.toDataURL("image/jpeg",1),e.parentNode.classList.add("hide"),this.initScroll()},openNewWindow:function(){var e=this.shareHost+"/cooperation/poster/"+this.userId;this.open(e)},open:function(e){var t=navigator.userAgent,r=/iPhone|iPad|iPod|iOS|Mac/i.test(t),s=/Android/i.test(t),a=r||s,o=r,i="Y"===sessionStorage.getItem("ISAPP");a&&/UCBrowser/i.test(t),/MicroMessenger/i.test(t);if(i){if(o){try{return window.webkit.messageHandlers.openWebPage.postMessage(e),!0}catch(e){}var n=document.createElement("iframe");n.src="app9vcom:##//OpenWithSafari/?"+e,n.style.width="0",n.style.height="0",n.style.overflow="hidden",document.body.appendChild(n),setTimeout(function(){n.parentNode.removeChild(n),n=null},1e3);try{window.webkit.messageHandlers.OpenWithSafari.postMessage(e)}catch(e){}}try{return window.sonic.openWebPage(e),!0}catch(e){}try{return window.App9vCom.OpenWithSafari(e),!0}catch(e){}return!0}return!1},goBack:function(){history.back()},goSharePage:function(e){this.goPage("/cooperation/share/"+this.userId+"/"+e)},goPage:function(e){this.$router.push(e)}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app app-invite-poster",attrs:{id:"app"}},[s("article",{staticClass:"page page-invite-poster"},[s("Theader",[e._v("分享专属海报")]),e._v(" "),s("main",[s("section",{staticClass:"canvas hide"},[s("img",{ref:"qrcode",attrs:{crossorigin:"anonymous",src:e.shareHost+"/api/mine/img/tdCode.gif?url="+encodeURI(e.qrcodeUrl+"/invite/"+e.userId),alt:"qrcode"}}),e._v(" "),s("canvas",{ref:"cvs",attrs:{width:"750",height:"1334"}})]),e._v(" "),s("section",{staticClass:"posters"},[s("div",{attrs:{id:"scrollInvite"},on:{touchstart:e.openNewWindow,click:e.openNewWindow}},[s("div",[s("img",{ref:"poster4",attrs:{crossorigin:"anonymous",src:r("1j0Y"),alt:"poster"},on:{click:function(t){return e.goSharePage(3)}}}),e._v(" "),s("img",{ref:"poster3",attrs:{crossorigin:"anonymous",src:r("XIqg"),alt:"poster"},on:{click:function(t){return e.goSharePage(2)}}}),e._v(" "),s("img",{ref:"poster2",attrs:{crossorigin:"anonymous",src:r("F853"),alt:"poster"},on:{click:function(t){return e.goSharePage(1)}}}),e._v(" "),s("img",{ref:"poster1",attrs:{crossorigin:"anonymous",src:r("vdUs"),alt:"poster"},on:{click:function(t){return e.goSharePage(0)}}})])])]),e._v(" "),s("section",{staticClass:"ps"},[s("p",{staticClass:"text-s12"},[e._v("第一步："+e._s(e.shareTip))]),e._v(" "),s("p",{staticClass:"text-s12"},[e._v("第二步：将图片分享到微信、QQ、微博、论坛等")]),e._v(" "),s("button",{staticClass:"button-lesser",on:{click:e.goBack}},[e._v("取消")])])])],1)])},staticRenderFns:[]};var n=r("VU/8")(o,i,!1,function(e){r("boGh"),r("QoDA")},null,null);t.default=n.exports},vdUs:function(e,t,r){e.exports=r.p+"static/img/cooperation-poster-01.7e4da72.jpg"}});