webpackJsonp([23],{"46hB":function(t,e){},FCIt:function(t,e){},ew9k:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("4Hxo"),o=s("l8ax"),a=s("Xbt8"),r=s("zhgr"),n=s("4c0y"),l=s("P+7r"),c={components:{Theader:n.default,errbox:o.a,mobile:a.a,passwd:r.a,Tinput:l.a},data:function(){return{mobile:localStorage.getItem("MOBILE")||"",email:localStorage.getItem("EMAIL")||"",passwd:"",errboxText:"",isShowErrbox:!1,isMobile:"N"!==localStorage.getItem("LOGIN_TYPE")}},beforeDestroy:function(){},created:function(){setTimeout(function(){document.body.classList.add("app-user-body")},10)},methods:{submit:function(){var t=this;this.validate()&&Object(i.J)(t.isMobile?this.mobile:this.email,this.passwd,this.isMobile?"mobile":"email").then(function(e){e.success?(t.isMobile?localStorage.setItem("MOBILE",t.mobile):localStorage.setItem("EMAIL",t.email),/\/user/.test(document.referrer),t.$router.push("/user")):(t.isShowErrbox=!0,t.errboxText=e.msg)})},validate:function(){return this.isMobile?this.mobile?!(!this.passwd&&(this.errboxText="请输入6~16位密码",this.isShowErrbox=!0)):(this.errboxText="请输入正确的手机号码",!(this.isShowErrbox=!0)):this.email?!(!this.passwd&&(this.errboxText="请输入6~16位密码",this.isShowErrbox=!0)):(this.errboxText="请输入正确的邮箱",!(this.isShowErrbox=!0))},setLoginType:function(){"N"!==localStorage.getItem("LOGIN_TYPE")?(this.isMobile=!1,localStorage.setItem("LOGIN_TYPE","N")):(this.isMobile=!0,localStorage.removeItem("LOGIN_TYPE"))},goBack:function(){return function(t){this.$router.push("/user")}},goPage:function(t){this.$router.push(t)},goRegister:function(){this.$router.push("/account/register")}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app app-login",attrs:{id:"app"}},[i("article",{staticClass:"page page-login"},[i("Theader",{attrs:{back:t.goBack()}},[i("img",{attrs:{src:s("kzYi"),alt:"logo"}})]),t._v(" "),i("main",[i("section",{staticClass:"tabs"},[i("b",{staticClass:"cur"},[t._v("登录")]),t._v(" "),i("b",{on:{click:t.goRegister}},[t._v("注册")])]),t._v(" "),i("section",{staticClass:"inputs"},[t.isMobile?i("mobile",{attrs:{value:t.mobile},on:{"update:value":function(e){t.mobile=e}}}):t._e(),t._v(" "),t.isMobile?t._e():i("Tinput",{attrs:{tip:"请输入您的邮箱地址",value:t.email,icon:"icon-email"},on:{"update:value":function(e){t.email=e}}}),t._v(" "),i("passwd",{attrs:{value:t.passwd},on:{"update:value":function(e){t.passwd=e}}})],1),t._v(" "),i("section",{staticClass:"action"},[i("button",{staticClass:"button",on:{click:t.submit}},[t._v("登录")])]),t._v(" "),i("section",{staticClass:"findback"},[i("a",{staticClass:"text-link",on:{click:function(e){return t.goPage("/findback")}}},[t._v("忘记密码？")])])])],1),t._v(" "),i("errbox",{attrs:{show:t.isShowErrbox,text:t.errboxText},on:{"update:show":function(e){t.isShowErrbox=e}}})],1)},staticRenderFns:[]};var b=s("VU/8")(c,u,!1,function(t){s("46hB"),s("FCIt")},null,null);e.default=b.exports}});