webpackJsonp([25],{Aik8:function(t,e){},pOn2:function(t,e){},zK8J:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("BO1k"),s=i.n(n),l=i("4c0y"),r=i("fIOV"),a=i("4Hxo"),o=i("162o"),c=i("0lui"),u=window.devicePixelRatio,f=["天","一","二","三","四","五","六"],d={components:{Theader:l.default,Tfooter:r.a},filters:{getTitle:function(t){return(t=(t=(t=(t=t.split("】")[0]).replace("【","")).split("|"))[1]||t[0]).trim()},getContent:function(t){var e=t.split("】");return 2===e.length?e[1].replace(/\n\r/g,""):e.slice(1).join("】").replace(/\n\r/g,"")},getTime:function(t){return t&&t.substr(11,5)},fmtTime:function(t){if(!t)return t;var e=new Date(t),i=(new Date).fixTZ(),n=t.substr(0,10),s="";n===c.f.format(i,"Y-M-D")?s="今天":(i.setDate(i.getDate()-1),n===c.f.format(i,"Y-M-D")?s="昨天":(i.setDate(i.getDate()-1),n===c.f.format(i,"Y-M-D")&&(s="前天")));var l=e.getDay(),r=f[l];return"".concat(s," ").concat(n," 星期").concat(r)}},data:function(){return{list:[],idFirst:"",idLast:"",loading:!1}},mounted:function(){this.initPage()},methods:{initPage:function(){var t=this;this.loadMore(),this.onScroll(),Object(o.setTimeout)(function(){t.loadNew()},5e3)},onScroll:function(){var t=this,e=document.documentElement,i=document.body,n=0;window.addEventListener("scroll",function(){t.loading||(clearTimeout(n),n=Object(o.setTimeout)(function(){e.scrollTop?e.scrollTop+e.clientHeight+100*u>=e.scrollHeight&&t.loadMore():i.scrollTop+e.clientHeight+100*u>=i.scrollHeight&&t.loadMore()},100))},!1)},loadNew:function(){var t=this;Object(a.r)(this.idFirst,!0).then(function(e){var i=e.lives.reverse();i.length&&(t.idFirst=i.last().id,t.merge(i,!0)),document.getElementsByClassName("app-news").length>0&&Object(o.setTimeout)(function(){t.loadNew()},5e3)})},loadMore:function(){var t=this;this.loading=!0,document.getElementsByClassName("app-news").length>0&&Object(a.r)(this.idLast).then(function(e){t.loading=!1;var i=e.lives;i.length&&(t.idFirst||(t.idFirst=i[0].id),t.idLast=i.last().id,t.merge(i,!1))})},merge:function(t,e){if(e){var i=this.list[0];if(i){var n=!0,l=!1,r=void 0;try{for(var a,o=s()(t);!(n=(a=o.next()).done);n=!0){var c=a.value,u=c.time.substr(0,10);if(u===i.date)i.list.unshift(c);else{this.list.unshift(i={date:u,list:[c]});var f=this.list.slice();this.list.splice(0),this.list=f}}}catch(t){l=!0,r=t}finally{try{n||null==o.return||o.return()}finally{if(l)throw r}}}}else{var d=this.list.last(),h=!0,v=!1,m=void 0;try{for(var g,p=s()(t);!(h=(g=p.next()).done);h=!0){var _=g.value,T=_.time.substr(0,10);d&&T===d.date?d.list.push(_):this.list.push(d={date:T,list:[_]})}}catch(t){v=!0,m=t}finally{try{h||null==p.return||p.return()}finally{if(v)throw m}}}}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app app-news",attrs:{id:"app"}},[i("article",{staticClass:"page page-news"},[i("Theader",[t._v("7x24h快讯")]),t._v(" "),i("main",[i("section",{staticClass:"list"},[i("ul",t._l(t.list,function(e){return i("li",{key:e.date,staticClass:"item"},[i("h3",[t._v(t._s(t._f("fmtTime")(e.date)))]),t._v(" "),i("ul",t._l(e.list,function(e){return i("li",[i("time",[t._v(t._s(t._f("getTime")(e.time)))]),t._v(" "),i("h3",[t._v(t._s(t._f("getTitle")(e.content)))]),t._v(" "),i("p",[t._v(t._s(t._f("getContent")(e.content)))])])}),0)])}),0)])]),t._v(" "),i("Tfooter")],1)])},staticRenderFns:[]};var v=i("VU/8")(d,h,!1,function(t){i("Aik8"),i("pOn2")},null,null);e.default=v.exports}});